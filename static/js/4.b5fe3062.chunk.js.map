{"version":3,"sources":["components/Patient/DonorsData.jsx"],"names":["columns","title","field","headerStyle","Object","C_Users_Fatma_Desktop_ihab_test_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","backgroundColor","color","border","render","rowData","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","href","Phone","Email","defaultGroupSort","DonorsData","props","useEffect","data","donorsFound","map","item","obj","C_Users_Fatma_Desktop_ihab_test_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","Distance","toFixed","Diseases","join","Date","toLocaleDateString","setDonorsDataArr","_useState","useState","_useState2","C_Users_Fatma_Desktop_ihab_test_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","donorsDataArr","_useState3","_useState4","loadMap","setLoadMap","react_bootstrap__WEBPACK_IMPORTED_MODULE_5__","fluid","className","length","Fragment","style","mapNote","react_bootstrap__WEBPACK_IMPORTED_MODULE_6__","react_bootstrap__WEBPACK_IMPORTED_MODULE_7__","lg","components_Card_Card_jsx__WEBPACK_IMPORTED_MODULE_8__","ctTableFullWidth","ctTableResponsive","content","tablePadding","material_table__WEBPACK_IMPORTED_MODULE_13___default","options","exportButton","OverlayLoading","fontSize","pagination","labelRowsSelect","md","components_CustomButton_CustomButton_jsx__WEBPACK_IMPORTED_MODULE_14__","onClick","bsStyle","pullLeft","fill","react_bootstrap__WEBPACK_IMPORTED_MODULE_4__","controlId","bsSize","Maps","react__WEBPACK_IMPORTED_MODULE_3__","fallback","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_12__","_views_Maps__WEBPACK_IMPORTED_MODULE_9__","id","zoom","donorsPositions"],"mappings":"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","file":"static/js/4.b5fe3062.chunk.js","sourcesContent":["import React, { useState , useEffect , Suspense } from \"react\";\r\nimport { FormGroup } from \"react-bootstrap\";\r\nimport { Grid, Row, Col } from \"react-bootstrap\";\r\nimport { Card } from \"components/Card/Card.jsx\";\r\nimport Maps from \"../../views/Maps\";\r\nimport style from \"./Patient.module.scss\";\r\nimport \"../../assets/css/maps.css\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport MaterialTable from 'material-table';\r\nimport Button from \"components/CustomButton/CustomButton.jsx\";\r\n\r\nconst columns = [\r\n    {\r\n        title: 'Name',\r\n        field: 'Name',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Phone',\r\n        field: 'Phone',\r\n        render: rowData => <a href={'tel:' + rowData.Phone}>{rowData.Phone}</a>,\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Email',\r\n        field: 'Email',\r\n        render: rowData => <a href={'mailto:' + rowData.Email}>{rowData.Email}</a>,\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Age',\r\n        field: 'Age',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Blood Type',\r\n        field: 'BloodType',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Last Donating Date',\r\n        field: 'LastDonationDate',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Recovery Date',\r\n        field: 'RecoveryDate',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Chronic Diseases',\r\n        field: 'Diseases',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n    {\r\n        title: 'Distance',\r\n        field: 'Distance',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        },\r\n        defaultGroupSort:'asc'\r\n    },\r\n    {\r\n        title: 'Address',\r\n        field: 'Address',\r\n        headerStyle: {\r\n            backgroundColor: '#039be5',\r\n            color: '#FFF',\r\n            border: 'solid 1px #FFF'\r\n        }\r\n    },\r\n];\r\n\r\nconst DonorsData = (props) => {\r\n\r\n    useEffect(() => {\r\n        let data = props.donorsFound;\r\n        data = data.map(function(item) { \r\n            // const obj = Object.assign({}, item);\r\n            const obj = { ...item };\r\n            obj['Distance'] = (item.Distance/1000).toFixed(2) + ' KM';\r\n            obj['Diseases'] = item.Diseases.join(', ');\r\n            obj['LastDonationDate'] = new Date(obj['LastDonationDate']).toLocaleDateString();\r\n            obj['RecoveryDate'] = new Date(obj['RecoveryDate']).toLocaleDateString();\r\n            return obj;\r\n        });\r\n        setDonorsDataArr(data);\r\n      }, [props.donorsFound]);\r\n      \r\n    //Data states\r\n    const [donorsDataArr, setDonorsDataArr] = useState([]);\r\n    const [loadMap, setLoadMap] = useState(false);\r\n\r\n    const showMap = () => {\r\n        setLoadMap(true);\r\n    };\r\n\r\n    return (\r\n            <Grid fluid className=\"fontSize\">\r\n                {donorsDataArr.length > 0 && (\r\n                    <>\r\n                        <label className={style.mapNote}>Donors Data Found</label>\r\n                        <Row>\r\n                            <Col lg={12}>\r\n                                <Card\r\n                                    ctTableFullWidth\r\n                                    ctTableResponsive\r\n                                    content={\r\n                                        <div className={style.tablePadding}>\r\n                                            <MaterialTable\r\n                                                title=\"Donor's Data\"\r\n                                                columns={columns}\r\n                                                data={donorsDataArr}\r\n                                                options={{\r\n                                                    exportButton: true\r\n                                                }}\r\n                                                OverlayLoading\r\n                                                style={{fontSize: '50px'}}\r\n                                                pagination={{\r\n                                                    labelRowsSelect:'10'\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                    }\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col md={12}>\r\n                            <Button onClick={showMap} bsStyle=\"info\" pullLeft fill>\r\n                                    Load Donors Map\r\n                            </Button>\r\n                            {loadMap == true && (\r\n                                <FormGroup controlId=\"Map2\" bsSize=\"large\">\r\n                                    <label className={style.mapNote}>Donors Locations</label>\r\n                                    <div className={style.Maps}>\r\n                                    <Suspense fallback={<CircularProgress />}>\r\n                                        <Maps\r\n                                            id={2}\r\n                                            zoom={10}\r\n                                            donorsPositions={donorsDataArr}\r\n                                        />\r\n                                    </Suspense>\r\n                                    </div>\r\n                                </FormGroup>\r\n                            )}\r\n                            </Col>\r\n                        </Row>\r\n                    </>\r\n                )}\r\n            </Grid>\r\n    );\r\n};\r\n\r\nexport default DonorsData;"],"sourceRoot":""}